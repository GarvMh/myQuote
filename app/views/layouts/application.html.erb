
<!-- 
  This is the main layout for the MyQuote application. 
  It sets up the HTML structure, includes necessary assets (Bootstrap, Rails UJS), 
  renders the header, and provides space for dynamic content and flash messages.
-->

<!DOCTYPE html>
<html>
  <head>
    <title>MyQuote</title> <!-- Page title -->

    <!-- Meta tag for responsive design on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Security tokens for Rails to prevent CSRF attacks -->
    <%= csrf_meta_tags %> 
    <%= csp_meta_tag %> <!-- Content Security Policy -->

    <!-- Bootstrap CSS for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">

    <!-- Include Rails UJS and Turbo for interactivity -->
    <%= javascript_include_tag 'application', 'data-turbo-track': 'reload' %>

    <!-- Bootstrap JS for additional components and interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
            crossorigin="anonymous"></script>
  </head>

  <body>
    <!-- Render the shared navigation bar from 'layouts/header' -->
    <%= render 'layouts/header' %>

    <!-- Main content container with margin for spacing -->
    <div class="container mt-3">
      <!-- Display flash success message, if any -->
      <% if flash[:notice] %>
        <div class="alert alert-success">
          <%= flash[:notice] %>
        </div>
      <% end %>

      <!-- Display flash error message, if any -->
      <% if flash[:alert] %>
        <div class="alert alert-danger">
          <%= flash[:alert] %>
        </div>
      <% end %>

      <!-- Yield to render the specific content for each page -->
      <%= yield %>
    </div>
  </body>
</html>
